

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Zhengyuan Yang">
  <meta name="keywords" content="">
  
    <meta name="description" content="This article introduce basic idea and terminology of Structual Causal Model in Causal Inference">
<meta property="og:type" content="article">
<meta property="og:title" content="Structural Causal Model">
<meta property="og:url" content="http://example.com/2022/11/10/structual-causal-model/index.html">
<meta property="og:site_name" content="Data Shore">
<meta property="og:description" content="This article introduce basic idea and terminology of Structual Causal Model in Causal Inference">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2022/11/10/structual-causal-model/1.png">
<meta property="og:image" content="http://example.com/2022/11/10/structual-causal-model/2.png">
<meta property="og:image" content="http://example.com/2022/11/10/structual-causal-model/3.png">
<meta property="og:image" content="http://example.com/2022/11/10/structual-causal-model/4.png">
<meta property="og:image" content="http://example.com/2022/11/10/structual-causal-model/5.png">
<meta property="og:image" content="http://example.com/2022/11/10/structual-causal-model/7.png">
<meta property="og:image" content="http://example.com/2022/11/10/structual-causal-model/8.png">
<meta property="og:image" content="http://example.com/2022/11/10/structual-causal-model/9.png">
<meta property="og:image" content="http://example.com/2022/11/10/structual-causal-model/10.png">
<meta property="article:published_time" content="2022-11-10T22:53:16.000Z">
<meta property="article:modified_time" content="2023-04-30T10:56:24.689Z">
<meta property="article:author" content="Zhengyuan Yang">
<meta property="article:tag" content="Basic Knowledge">
<meta property="article:tag" content="Structural Causal Model">
<meta property="article:tag" content="Causal Graph">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2022/11/10/structual-causal-model/1.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Structural Causal Model - Data Shore</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"left","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Data Shore</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                Archives
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/banner.gif') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Structural Causal Model"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2022-11-10 14:53" pubdate>
          November 10, 2022 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          6.5k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          55 mins
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> views
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="padding-left: 2rem; margin-right: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;Table of Contents</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Structural Causal Model</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="introduction-of-structual-causal-model">Introduction of Structual Causal Model</h1>
<h2 id="about-structural-causal-model">1. About Structural Causal Model</h2>
<p>The Structural Causal Model(SCM) is another framework of causal inference. It is a way of describing the relevant features of the world and how they interact with each other. It is widely used in causal relationship digging.</p>
<h2 id="basis-of-graph-theory">2. Basis of Graph Theory</h2>
<p><strong>Graph</strong>: a collection of vertices(nodes) and edges. The nodes are connected by edges.</p>
<p><strong>Adjacent</strong>: If there is a edge between two nodes, then these two nodes are adjacent</p>
<p><strong>Compete Graph</strong>: A graph is a complete graph if every pair of nodes in it is adjacent</p>
<p><img src="/2022/11/10/structual-causal-model/1.png" srcset="/img/loading.gif" lazyload style="zoom:15%;"></p>
<p><strong>Path</strong>: A sequence of adjacent nodes and their edges between node X and node Y is called a path between X and Y</p>
<p><strong>Directed/Undirected Graph</strong>: An edge can be directedor undirected. If all edges in a graph is directed, this graph is a directed graph</p>
<p><strong>Directed Path:</strong> If every edges in a path have same directions, then this path is a directed path</p>
<p><strong>Parent/Child</strong>: The Start and End nodes of the directed graph</p>
<p><strong>Ancestor/Descendant</strong>: For a directed path,the ancestor nodes are all nodes before this node, the descendant nodes are all nodes after that node</p>
<p><strong>Cyclic</strong>: when a directed graph contains a path that its starting node and ending node are the same node, then this path is called a cyclic</p>
<p><img src="/2022/11/10/structual-causal-model/2.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>DAG</strong>: A directed graph with no cyclics in it is called a Directed Acyclic Graph(DAG)</p>
<h2 id="basic-theory-of-scm">3. Basic Theory of SCM</h2>
<h3 id="causility">3.1 Causility</h3>
<p>In SCM, the causality is considered as function with a time order. For two variable X and Y, we call X a <strong>direct cause</strong> of Y if: <span class="math display">\[
Y = f(X)
\]</span> note that there's a time order for the happenings of X and Y. We cannot regard the cause as <span class="math inline">\(X= f^{-1}(Y)\)</span></p>
<p>We call X a <strong>indirect cause</strong> of Y is X is a cause of any cause(direct or indirect) of Y.</p>
<p>In SCM, the relationship of a direct cause X, an outcome Y and their causality f is presented with a parent node. a child node and the directed edge between them.</p>
<p>In most case, a causility would demonstrate statistical dependence on observations. From a probability aspect, we can also interpret this correlation as a joint probability. For an causal graph: <span class="math display">\[
P(X_1,X_2,...X_n) = \prod_i^n P(X_i|par(X_i))
\]</span> where <span class="math inline">\(par(X_i)\)</span> is all parent nodes of <span class="math inline">\(X_i\)</span>. If <span class="math inline">\(X_i\)</span> does not have a parent node(Exogenous), then just apply<span class="math inline">\(P(X_i)\)</span></p>
<h3 id="exogenousendogenous-variable">3.2 Exogenous/Endogenous Variable</h3>
<p>In SCM, the exogenous variables, usually denoted as U, are variables considered external to the model, and we would not explained how these variables are caused. Oppositely, the endogenous variable,usually denoted as V, are variables considered a descendant of at least one exogenous variable. Exogenous variables have no ancestors, only descendants, while endogenous variables have both ancestors and descendants.</p>
<p>With such assumption, we can represent the causality of variables with a DAG.</p>
<p><img src="/2022/11/10/structual-causal-model/3.png" srcset="/img/loading.gif" lazyload></p>
<p>In a causality DAG, only when there's a directed path between two variables can we regard as there exists a direct or indirect causality between these two variable.</p>
<h3 id="intransitive-case">3.3 Intransitive Case</h3>
<p>As discussed in <a target="_blank" rel="noopener" href="http://zhengyuanyang.com/2022/11/07/basic-causal-inference/">this article</a>, we know that correlation does not imply causality. On the opposite, if X causes Y, then in most case X and Y are statistically dependent. Nevertheless, there still exists some extreme case where causality does not show statistical correlation.</p>
<p>For example, suppose gene A can increase a person's risk of getting a cancer, while there exists another gene B that can depress people's risk of getting cancer. If we observe a sample where each person has both gene A and B, we probably would get the conclusion that both gene are independent to the rate of getting a cancer.</p>
<p>Another example is the "exclusive or" logic, if the two inputs are both binary variable with equal probability, and the output is a EO calculation of the two binary example, then the output are independent to each of the two inputs from a probability perspective.</p>
<p>Other cases might be found in real application, we cannot always expect that causality would always generate statistical significant difference. However, we still believe in most cases the significance would be showned, which is the basic assumption for causal inference</p>
<h3 id="basic-structure-for-causality-graph">3.4 Basic Structure for Causality Graph</h3>
<h4 id="chain-fork-and-colider">3.4.1 Chain, Fork and Colider</h4>
<p>The basic causal structure in SCM can be concluded into three types, and each type describes the relationship among three Causal Structure in SCM</p>
<p><strong>Chain</strong>: For a chain, the first node and the last node are statistically depent, association flows through the directed path, to block the association, we need to conditioning on <span class="math inline">\(X_ 2\)</span></p>
<p><img src="/2022/11/10/structual-causal-model/4.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>Fork</strong>: For a fork, the two descendant nodes are statistically depent, association flows through the path even if its indirected, to block the association, we need to conditioning on <span class="math inline">\(X_ 2\)</span></p>
<p><img src="/2022/11/10/structual-causal-model/5.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>Colider </strong>: For a colider, the two parent nodes are not statistically depent, the intermediate nodes naturally block the association without conditioning</p>
<p><strong>Conditioning </strong>: conditioning means segment samples into subgroups according to certain values. In a SCM context, if we condition the intermediate variable, we can regard it as a constant in causality:</p>
<ul>
<li>For a chain, before conditioning, <span class="math inline">\(X_3 = f(X_2,u_3) = f(g(X_1),u_3)\)</span>, after conditioning, <span class="math inline">\(X_3 = f(u_3)\)</span></li>
<li>For a fork, before conditioning, <span class="math inline">\(X_3 = f(X_2,u_3), X_1 = f(X_2,u_1)\)</span>, after conditioning, <span class="math inline">\(X_3 = f(u_3), X_1 = f(u_1)\)</span></li>
<li>For a colider, before conditioning, <span class="math inline">\(X_1 = f(u_1),X_ 3=f(u_ 3)\)</span>, after conditioning on <span class="math inline">\(X_2\)</span> or any of its descendants, although the cause of <span class="math inline">\(X_1\)</span> and <span class="math inline">\(X_3\)</span> remains the same, we now have <span class="math inline">\(X_ 2 = f(X_1,X_3) = c\)</span>, so statistical dependence would appear between <span class="math inline">\(X_1\)</span> and <span class="math inline">\(X_3\)</span></li>
</ul>
<p><img src="/2022/11/10/structual-causal-model/7.png" srcset="/img/loading.gif" lazyload></p>
<p><img src="/2022/11/10/structual-causal-model/8.png" srcset="/img/loading.gif" lazyload></p>
<h4 id="d-separate">3.4.2 D-separate</h4>
<p>D-separation is a method used to determine whether two nodes in a causal graph is statistically independent.</p>
<ul>
<li><span class="math inline">\(X \ and \ Y \ are \ d-sep \iff X \ and \ Y \ are \ statistically \ indepentdent\)</span></li>
<li>$X  d-sep  Y | Z X  and  Y  are  statistically  indepentdent | Z $</li>
</ul>
<p>From the previous section we know that in a V structure,</p>
<ol type="1">
<li>If the cenral node are not conditioned, two nodes are blockd by a colider and unblocked(d-connected) by a chain or a fork.</li>
<li>If the cenral node are conditioned, two nodes are blockd by a chain or a fork and unblocked by a colider.</li>
</ol>
<p>If every paths between two nodes X and Y are blocked, we called X and Y d-separated.</p>
<h2 id="causality-search">4. Causality Search</h2>
<h3 id="test-on-causality-model">4.1 Test on Causality Model</h3>
<p>With the definition of the D-separation, we can test the causal model we assume by examine where the statistical independence inferred from the model can be validated through data. For example, for such a causal model:</p>
<p><img src="/2022/11/10/structual-causal-model/9.png" srcset="/img/loading.gif" lazyload></p>
<p>The path <span class="math inline">\(W \to X \to Z_1\)</span> should be blocked if we conditioned on X, which means this model implies: <span class="math inline">\(Z_1 \perp \!\!\! \perp W\ |X\)</span></p>
<p>We can then regress a linaer model <span class="math inline">\(Z_1 = r_1W + r_2X\)</span>, if <span class="math inline">\(r_ 1\)</span> is obviously greater than 0, we can regard as the assumed causal model is incorrect. We can also apply other statistical method to test correlation.</p>
<p>Through this kind of ideas, we can infer the true causal model by testing potential causal models based on dataset</p>
<h3 id="equivalent-class">4.2 Equivalent Class</h3>
<p>For some causal relationship, we may found two different potential causal graph of it appears to have same statistical independent on data. For example, a fork and a chain have same relationship on statistical independence. When we try to infer the causal relationship, we might found some causility, or we can say the directions of some edgs in the DAG, cannot be decided through data. In this case, we call these potential models with same statistical independence appearance <strong>Equivalent Classes</strong></p>
<p><img src="/2022/11/10/structual-causal-model/10.png" srcset="/img/loading.gif" lazyload></p>
<p>A intuitive method to judge whether two graph are equivalent classes is to check each V-structure in for both graph and earse the direction of the edges if the two V-struture are equivalent. If there are no directions left, then the two classes are equivalent. If there are remaining directed edges or V-structure that are different, then the two graphs are not equivalent.</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Causal-Inference/" class="category-chain-item">Causal Inference</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Basic-Knowledge/">#Basic Knowledge</a>
      
        <a href="/tags/Structural-Causal-Model/">#Structural Causal Model</a>
      
        <a href="/tags/Causal-Graph/">#Causal Graph</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Structural Causal Model</div>
      <div>http://example.com/2022/11/10/structual-causal-model/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>Zhengyuan Yang</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>November 10, 2022</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2022/12/02/Basic-prob/" title="Basic of Probability Theory for Data Science">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">Basic of Probability Theory for Data Science</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2022/11/07/potential-outcome/" title="Potential Outcome Framework">
                        <span class="hidden-mobile">Potential Outcome Framework</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <i class="iconfont icon-bug"></i> <a href="http://zhengyuanyang.com/report/" target="_blank" rel="nofollow noopener"><span>Report Bug</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
