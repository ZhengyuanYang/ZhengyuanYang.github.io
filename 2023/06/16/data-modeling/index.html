

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="Zhengyuan Yang">
  <meta name="keywords" content="">
  
    <meta name="description" content="There article introduces the basics of data modeling">
<meta property="og:type" content="article">
<meta property="og:title" content="Basics of Data Modeling">
<meta property="og:url" content="http://example.com/2023/06/16/data-modeling/index.html">
<meta property="og:site_name" content="Data Shore">
<meta property="og:description" content="There article introduces the basics of data modeling">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="http://example.com/2023/06/16/data-modeling/1.png">
<meta property="og:image" content="http://example.com/2023/06/16/data-modeling/2.png">
<meta property="og:image" content="http://example.com/2023/06/16/data-modeling/3.png">
<meta property="og:image" content="http://example.com/2023/06/16/data-modeling/4.png">
<meta property="og:image" content="http://example.com/2023/06/16/data-modeling/5.png">
<meta property="article:published_time" content="2023-06-16T14:04:01.000Z">
<meta property="article:modified_time" content="2023-06-16T15:39:52.296Z">
<meta property="article:author" content="Zhengyuan Yang">
<meta property="article:tag" content="Basics">
<meta property="article:tag" content="Data Modeling">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="http://example.com/2023/06/16/data-modeling/1.png">
  
  
    <meta name="referrer" content="no-referrer-when-downgrade">
  
  
  <title>Basics of Data Modeling - Data Shore</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"example.com","root":"/","version":"1.9.3","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"left","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 6.0.0"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>Data Shore</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/">
                <i class="iconfont icon-home-fill"></i>
                Home
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                Categories
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/tags/">
                <i class="iconfont icon-tags-fill"></i>
                Tags
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                About
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/Toolbox/">
                <i class="iconfont icon-briefcase"></i>
                Toolbox
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/banner.gif') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Basics of Data Modeling"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-06-16 22:04" pubdate>
          June 16, 2023 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          7.7k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          65 mins
        
      </span>
    

    
    
      
        <span id="busuanzi_container_page_pv" style="display: none">
          <i class="iconfont icon-eye" aria-hidden="true"></i>
          <span id="busuanzi_value_page_pv"></span> views
        </span>
        
      
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="padding-left: 2rem; margin-right: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;Table of Contents</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Basics of Data Modeling</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="basics-of-data-modeling">Basics of Data Modeling</h1>
<h2 id="basics-of-data-modeling-1">1. Basics of Data Modeling</h2>
<p>Data modeling is the process of creating a conceptual representation of data objects, relationships between them, and rules governing them to better understand and organize data. It is an essential step in database design and development, as it helps in creating a blueprint of a database system that can be used to build the actual system.</p>
<p>Depends of the extent of specification, there are three level of data modeling:</p>
<ol type="1">
<li><strong>Conceptual Data Model</strong>: describes the high-level view of data that is independent of any specific technology. It is a simple representation of entities, their attributes, and the relationships between them. It is mainly used in the early stages of development to help stakeholders understand the scope of the system.</li>
<li><strong>Logical Data Model</strong>: more detailed than a conceptual model and includes data structures, data types, and other technical details. It is used to create a blueprint of the actual database system that can be used by developers to build and maintain the database.</li>
<li><strong>Physical Data Model</strong>: most detailed and includes information about the physical storage of data on disk, tables, columns, and other technical details. It is used by database administrators to manage the database system.</li>
</ol>
<h2 id="grain-and-three-normal-forms-of-databases">2. Grain and Three Normal Forms of Databases</h2>
<h3 id="grain-of-data">2.1 Grain of Data</h3>
<p><strong>Grain</strong></p>
<p>The grain of data refers to the level of detail or granularity at which data is stored in a table. It determines the level of aggregation or disaggregation of data. For example, if you have sales data for a company, the grain of the data could be at the product level, meaning that each row in the table represents a sale of a specific product. Alternatively, it could be at the store level, meaning that each row represents the total sales for a particular store. The choice of grain is important because it affects the level of detail and accuracy of the information that can be obtained from the data. Choosing the appropriate grain is essential to ensure that the data is useful for analysis and decision-making.</p>
<p><strong>Primary Key</strong></p>
<p>A primary key is a unique identifier for each row in a table. It is used to ensure that each row is unique and can be identified using the primary key. The choice of primary key is important because it affects the level of detail or granularity at which data is stored in a table.</p>
<p>The Grain is a concept associated with entity, while the primary key is a specific concept in database construction. Grain and primary key are related to each other in that they both determine the level of detail or granularity at which data is stored in a table.</p>
<p>For example, if the grain of the data is at the product * date level, the primary key might be a combination of the product ID and the date of sale. If the grain is at the user * store level, the primary key might be a combination of the product ID and store ID.</p>
<p>This ensures that each row in the table is unique and can be identified using the primary key. In other word, the primary key assure the grain of the data.</p>
<h3 id="three-normal-forms-of-databases">2.2 Three Normal Forms of Databases</h3>
<p>The three normal forms (1NF, 2NF, and 3NF) are standards for ensuring that a database is well-organized and free of anomalies. These rules are used to eliminate data redundancies and inconsistencies to create a more efficient and reliable database system.</p>
<ol type="1">
<li>The first normal form (1NF): each table have a primary key and that each column in the table is atomic, meaning that it contains only one value. T</li>
<li>The second normal form (2NF): each non-key column in the table is functionally dependent on the primary key.</li>
<li>The third normal form (3NF): each non-key column in the table is not transitively dependent on the primary key.</li>
</ol>
<p>The benefit of the three normal forms (1NF, 2NF, and 3NF) of databases is that they help to ensure that a database is well-organized and free of anomalies. By eliminating data redundancies and inconsistencies, the database becomes more efficient and reliable. This makes it easier to maintain and update the database, and also helps to ensure that the data is accurate and consistent.</p>
<h2 id="er-modeling">3. ER Modeling</h2>
<p>Entity-Relationship modeling(ER modeling) is a data modeling technique used to create a graphical representation of entities and the relationships between them. The technique is based on the use of three main components: entities, attributes, and relationships. Entities represent the real-world objects or concepts that are being modeled, attributes represent the properties or characteristics of the entities, and relationships represent the associations between the entities.</p>
<p>ER modeling clearly describes the relationship among real entities in business, thus is usually applied on an <strong>enterprise-wise data modeling.</strong> Theoretically, a ER model strictly satisfies 3NF and have no data redundancy. Also, a ER model is a top-down method for data modeling. For these reasons, ER modeling is usually applied for construction of <strong>OTLP database</strong>.</p>
<p>On the other have, ER modeling requires the developer the have a whole picture in mind about business. Developing a ER model database can be very time-consuming and costly. Therefore, ER modeling is not suitable for an analytical database such as data warehouse or data-mart.</p>
<p><strong>Crow’s Foot Diagram</strong></p>
<p>The crow's foot diagram, also known as the crow's foot notation, is a type of entity-relationship diagram (ERD) used to represent and visualize relational databases. It uses tables to denote entity and its attributes, and lines ended with symbols to represent relationship:</p>
<ul>
<li><strong>Crow's Foot</strong>: A three-pronged symbol (like a crow's foot) represents a 'many' relationship in an ERD.</li>
<li><strong>Straight Line</strong>: A straight line on the end of a relationship represents a 'one' relationship.</li>
<li><strong>Circle or Ring</strong>: This is used to represent a 'zero' or 'optional' relationship, meaning that the relationship does not necessarily exist for every instance of the entities.</li>
</ul>
<p><img src="/2023/06/16/data-modeling/1.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="dimension-modeling">4. Dimension Modeling</h2>
<p>The dimensional model consists of a central fact table surrounded by dimension tables, forming a "star" shape, hence it is often referred to as a star schema. If dimension tables are normalized, it results in a "snowflake" schema.</p>
<p><strong>Fact tables</strong></p>
<p>Fact tables are the central tables in the schema of a dimensional model. They are used in conjunction with dimension tables and they contain <strong>facts and keys to dimension tables.</strong></p>
<p>The facts are the measurements or metrics that a business process of interest creates. The fact must be strictly on the grain of data defined by the dimension model.</p>
<p><strong>Dimension tables</strong></p>
<p>Dimension tables are used to describe dimensions; they contain dimension keys, values and attributes. A dimension is a perspective for observing the facts, it is usually on a greater grain. Theoretically, the product of the dimension keys should yield the grain of data. The dimension keys are Primary keys that uniquely identify information on the corresponding dimension. The dimensional attributes are measurements fall on the grain of their dimension.</p>
<p>A dimension Model is bottom-up structure. It first defines the grain, or dimensions of the data according to the extent of details needed to understand the business. Then it select metrics of interest on that grain. Finally it adds information on dimension through attributes. Such procedure decides that a dimension model can more focusing on specific business rather than the overall picture. Besides, it is easier to develop. Thus a dimension model is more suitable for a OLAP database comparing to an ER model. For a business perspective, we can deem the dimension modeling as a kind of decoupling ER modeling</p>
<p><img src="/2023/06/16/data-modeling/2.png" srcset="/img/loading.gif" lazyload></p>
<p>For example, if our task is analyzing user behavior, then in a dimension model, there is no need to maintain the unrelated metrics “watch_duration” and “finished”as well as unrelated entities “order” and “product”.</p>
<h3 id="schema-of-dimension-model">4.2 Schema of Dimension Model</h3>
<p>The Schema of dimension modeling includes:</p>
<p><strong>Star Schema</strong></p>
<p>Star Schema is known to create denormalized dimension tables – a database structuring strategy that organizes tables to introduce redundancy for improved performance. Denormalization intends to introduce redundancy in additional dimensions so long as it improves query performance.</p>
<p><img src="/2023/06/16/data-modeling/3.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>Snowflake Schema</strong></p>
<p>The Snowflake Schema is a data warehouse schema that encompasses a logical arrangement of dimension tables. This data warehouse schema builds on the star schema by adding additional sub-dimension tables that relate to first-order dimension tables joined to the fact table.</p>
<p>Snowflake schema creates normalized dimension tables – a database structuring strategy that organizes tables to reduce redundancy. The purpose of normalization is to eliminate any redundant data to reduce overhead.</p>
<p><img src="/2023/06/16/data-modeling/4.png" srcset="/img/loading.gif" lazyload></p>
<p><strong>Galaxy Schema</strong></p>
<p>In a real implementation of dimension model, such as a data warehouse, the database are usually not for a single business only. A galaxy schema contains multiple fact table for different business, while these facts table can share same dimension tables.</p>
<p><img src="/2023/06/16/data-modeling/5.png" srcset="/img/loading.gif" lazyload></p>
<h2 id="other-data-modeling-methods">5. Other Data Modeling Methods</h2>
<p>Other data modeling method includes Data Vault, which is a derivation of ER model that is more focusing on data integration, and Anchor model, which apply K-V structure and raise the standard to 6 NF. These model are seldomly used by a data scientist in enterprise.</p>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Database/" class="category-chain-item">Database</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
    <div class="post-meta">
      <i class="iconfont icon-tags"></i>
      
        <a href="/tags/Basics/">#Basics</a>
      
        <a href="/tags/Data-Modeling/">#Data Modeling</a>
      
    </div>
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Basics of Data Modeling</div>
      <div>http://example.com/2023/06/16/data-modeling/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>Zhengyuan Yang</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>June 16, 2023</div>
        </div>
      
      
      
        <div class="license-meta-item">
          <div>Licensed under</div>
          <div>
            
              
              
                <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
                  <span class="hint--top hint--rounded" aria-label="BY - Attribution">
                    <i class="iconfont icon-by"></i>
                  </span>
                </a>
              
            
          </div>
        </div>
      
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/05/22/synthetic-control/" title="Synthetic Control Method">
                        <span class="hidden-mobile">Synthetic Control Method</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>
  </div>
</div>





  



  



  



  



  


  
  









    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <i class="iconfont icon-bug"></i> <a href="http://zhengyuanyang.com/report/" target="_blank" rel="nofollow noopener"><span>Report Bug</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init(Object.assign({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      scrollSmooth    : true,
      includeTitleTags: true,
      headingsOffset  : -boardTop,
    }, CONFIG.toc));
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }

    Fluid.events.registerRefreshCallback(function() {
      if ('tocbot' in window) {
        tocbot.refresh();
        var toc = jQuery('#toc');
        if (toc.length === 0 || !tocbot) {
          return;
        }
        if (toc.find('.toc-list-item').length > 0) {
          toc.css('visibility', 'visible');
        }
      }
    });
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.11/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));

    Fluid.events.registerRefreshCallback(function() {
      if ('anchors' in window) {
        anchors.removeAll();
        var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
        var res = [];
        for (var item of el) {
          res.push('.markdown-body > ' + item.trim());
        }
        if (CONFIG.anchorjs.placement === 'left') {
          anchors.options.class = 'anchorjs-link-left';
        }
        anchors.add(res.join(', '));
      }
    });
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  
      <script>
        if (!window.MathJax) {
          window.MathJax = {
            tex    : {
              inlineMath: { '[+]': [['$', '$']] }
            },
            loader : {
              load: ['ui/lazy']
            },
            options: {
              renderActions: {
                insertedScript: [200, () => {
                  document.querySelectorAll('mjx-container').forEach(node => {
                    let target = node.parentNode;
                    if (target.nodeName.toLowerCase() === 'li') {
                      target.parentNode.classList.add('has-jax');
                    }
                  });
                }, '', false]
              }
            }
          };
        } else {
          MathJax.startup.document.state(0);
          MathJax.texReset();
          MathJax.typeset();
          MathJax.typesetPromise();
        }

        Fluid.events.registerRefreshCallback(function() {
          if ('MathJax' in window && MathJax.startup.document && typeof MathJax.startup.document.state === 'function') {
            MathJax.startup.document.state(0);
            MathJax.texReset();
            MathJax.typeset();
            MathJax.typesetPromise();
          }
        });
      </script>
    

  <script  src="https://lib.baomitu.com/mathjax/3.2.2/es5/tex-mml-chtml.js" ></script>

  <script  src="/js/local-search.js" ></script>

  <script defer src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
